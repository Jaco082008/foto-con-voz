<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoTracker - Tu Huella Verde</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1a5f3f 0%, #2d8659 50%, #4caf50 100%);
            color: #333;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            animation: slideDown 0.8s ease-out;
        }

        @keyframes slideDown {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .logo {
            text-align: center;
            margin-bottom: 20px;
        }

        .logo h1 {
            font-size: 2.5em;
            color: #2e7d32;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .logo p {
            color: #666;
            font-size: 1.1em;
            margin-top: 5px;
        }

        nav {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .nav-btn {
            background: linear-gradient(45deg, #4caf50, #66bb6a);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
        }

        .nav-btn.active {
            background: linear-gradient(45deg, #2e7d32, #388e3c);
        }

        .main-content {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            animation: fadeInUp 1s ease-out;
        }

        @keyframes fadeInUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e8f5e9 100%);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
            border-left: 5px solid #4caf50;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card h3 {
            color: #2e7d32;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .metric {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 10px 0;
            padding: 10px;
            background: rgba(76, 175, 80, 0.1);
            border-radius: 8px;
        }

        .metric-value {
            font-weight: bold;
            color: #2e7d32;
            font-size: 1.2em;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e0e0e0;
            border-radius: 5px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4caf50, #66bb6a);
            transition: width 0.8s ease;
        }

        .badges-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 15px;
        }

        .badge {
            text-align: center;
            padding: 15px;
            background: linear-gradient(135deg, #4caf50, #66bb6a);
            color: white;
            border-radius: 12px;
            font-size: 0.9em;
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .badge:hover {
            transform: scale(1.05);
        }

        .badge-icon {
            font-size: 2em;
            margin-bottom: 8px;
            display: block;
        }

        .leaderboard {
            background: white;
            border-radius: 12px;
            overflow: hidden;
        }

        .leaderboard-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            border-bottom: 1px solid #e0e0e0;
            transition: background 0.3s ease;
        }

        .leaderboard-item:hover {
            background: #f1f8e9;
        }

        .leaderboard-item:first-child {
            background: linear-gradient(135deg, #4caf50, #66bb6a);
            color: white;
        }

        .rank {
            font-weight: bold;
            font-size: 1.2em;
            width: 30px;
        }

        .input-group {
            margin: 15px 0;
        }

        .input-group label {
            display: block;
            margin-bottom: 5px;
            color: #2e7d32;
            font-weight: bold;
        }

        .input-group input, .input-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s ease;
        }

        .input-group input:focus, .input-group select:focus {
            border-color: #4caf50;
            outline: none;
        }

        .btn-primary {
            background: linear-gradient(45deg, #4caf50, #66bb6a);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
        }

        .challenges-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .challenge-card {
            background: linear-gradient(135deg, #e8f5e9, #f1f8e9);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            transition: transform 0.3s ease;
            border: 2px solid transparent;
        }

        .challenge-card:hover {
            transform: translateY(-3px);
            border-color: #4caf50;
        }

        .challenge-icon {
            font-size: 3em;
            margin-bottom: 15px;
            color: #4caf50;
        }

        .floating-elements {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .floating-leaf {
            position: absolute;
            font-size: 20px;
            color: rgba(76, 175, 80, 0.3);
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            nav {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="floating-elements">
        <div class="floating-leaf" style="top: 10%; left: 10%;">üå±</div>
        <div class="floating-leaf" style="top: 20%; right: 15%;">üçÉ</div>
        <div class="floating-leaf" style="top: 60%; left: 5%;">üåø</div>
        <div class="floating-leaf" style="top: 80%; right: 10%;">üå±</div>
    </div>

    <div class="container">
        <header>
            <div class="logo">
                <h1>üå± EcoTracker</h1>
                <p>Convierte la sostenibilidad en un juego social</p>
            </div>
            <nav>
                <button class="nav-btn active" onclick="showSection('dashboard')">Dashboard</button>
                <button class="nav-btn" onclick="showSection('tracker')">Medici√≥n</button>
                <button class="nav-btn" onclick="showSection('community')">Comunidad</button>
                <button class="nav-btn" onclick="showSection('challenges')">Desaf√≠os</button>
                <button class="nav-btn" onclick="showSection('profile')">Perfil</button>
            </nav>
        </header>

        <div class="main-content">
            <!-- Dashboard Section -->
            <div id="dashboard" class="section active">
                <h2 style="color: #2e7d32; margin-bottom: 25px; text-align: center;">Tu Impacto Ambiental</h2>
                
                <div class="dashboard-grid">
                    <div class="card">
                        <h3>üåç Huella de Carbono</h3>
                        <div class="metric">
                            <span>Este mes:</span>
                            <span class="metric-value">2.3 ton CO‚ÇÇ</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 65%;"></div>
                        </div>
                        <p style="color: #666; font-size: 0.9em;">üìâ -15% vs mes anterior</p>
                    </div>

                    <div class="card">
                        <h3>üíß Consumo de Agua</h3>
                        <div class="metric">
                            <span>Este mes:</span>
                            <span class="metric-value">3,420L</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 45%;"></div>
                        </div>
                        <p style="color: #666; font-size: 0.9em;">üìâ -8% vs mes anterior</p>
                    </div>

                    <div class="card">
                        <h3>‚ôªÔ∏è Gesti√≥n de Residuos</h3>
                        <div class="metric">
                            <span>Reciclado:</span>
                            <span class="metric-value">85%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 85%;"></div>
                        </div>
                        <p style="color: #666; font-size: 0.9em;">üìà +12% vs mes anterior</p>
                    </div>

                    <div class="card">
                        <h3>üèÜ Puntuaci√≥n EcoTracker</h3>
                        <div class="metric">
                            <span>Puntos totales:</span>
                            <span class="metric-value">1,847</span>
                        </div>
                        <div class="metric">
                            <span>Ranking:</span>
                            <span class="metric-value">#23</span>
                        </div>
                        <p style="color: #4caf50; font-weight: bold;">¬°Sigue as√≠! üåü</p>
                    </div>
                </div>

                <div class="card">
                    <h3>üèÖ Tus Logros Recientes</h3>
                    <div class="badges-container">
                        <div class="badge">
                            <span class="badge-icon">üö¥</span>
                            Eco-Ciclista
                        </div>
                        <div class="badge">
                            <span class="badge-icon">‚ôªÔ∏è</span>
                            Reciclador Pro
                        </div>
                        <div class="badge">
                            <span class="badge-icon">üíß</span>
                            Ahorrador H2O
                        </div>
                        <div class="badge">
                            <span class="badge-icon">üå±</span>
                            Jardinero Verde
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tracker Section -->
            <div id="tracker" class="section">
                <h2 style="color: #2e7d32; margin-bottom: 25px; text-align: center;">Registra tu Actividad</h2>
                
                <div class="dashboard-grid">
                    <div class="card">
                        <h3>üöó Transporte</h3>
                        <div class="input-group">
                            <label>Tipo de transporte:</label>
                            <select id="transport-type">
                                <option>Caminata</option>
                                <option>Bicicleta</option>
                                <option>Transporte p√∫blico</option>
                                <option>Auto propio</option>
                                <option>Uber/Taxi</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>Kil√≥metros recorridos:</label>
                            <input type="number" placeholder="0" id="km-input">
                        </div>
                        <button class="btn-primary" onclick="addTransport()">Registrar</button>
                    </div>

                    <div class="card">
                        <h3>üè† Energ√≠a del Hogar</h3>
                        <div class="input-group">
                            <label>Consumo el√©ctrico (kWh):</label>
                            <input type="number" placeholder="0" id="energy-input">
                        </div>
                        <div class="input-group">
                            <label>Tipo de energ√≠a:</label>
                            <select>
                                <option>Renovable</option>
                                <option>Mixta</option>
                                <option>Convencional</option>
                            </select>
                        </div>
                        <button class="btn-primary" onclick="addEnergy()">Registrar</button>
                    </div>

                    <div class="card">
                        <h3>üóëÔ∏è Residuos</h3>
                        <div class="input-group">
                            <label>Tipo de residuo:</label>
                            <select>
                                <option>Org√°nico</option>
                                <option>Pl√°stico</option>
                                <option>Papel</option>
                                <option>Vidrio</option>
                                <option>Electr√≥nicos</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>Cantidad (kg):</label>
                            <input type="number" placeholder="0" step="0.1">
                        </div>
                        <button class="btn-primary">Registrar</button>
                    </div>
                </div>

                <div class="card">
                    <h3>ü§ñ Recomendaciones IA Personalizadas</h3>
                    <div id="ai-recommendations">
                        <p>üí° <strong>Sugerencia del d√≠a:</strong> Considera usar la bicicleta para trayectos menores a 5km. Podr√≠as reducir tu huella de carbono en un 40%.</p>
                        <p>üå± <strong>Tip ecol√≥gico:</strong> Cambia 3 bombillas por LED esta semana y ahorra 120 kWh al a√±o.</p>
                        <p>‚ôªÔ∏è <strong>Meta semanal:</strong> Intenta compostar el 70% de tus residuos org√°nicos.</p>
                    </div>
                </div>
            </div>

            <!-- Community Section -->
            <div id="community" class="section">
                <h2 style="color: #2e7d32; margin-bottom: 25px; text-align: center;">Comunidad EcoTracker</h2>
                
                <div class="dashboard-grid">
                    <div class="card">
                        <h3>üèÜ Ranking Global</h3>
                        <div class="leaderboard">
                            <div class="leaderboard-item">
                                <div><span class="rank">1</span> EcoMaster_2024</div>
                                <div><strong>2,847 pts</strong></div>
                            </div>
                            <div class="leaderboard-item">
                                <div><span class="rank">2</span> GreenWarrior</div>
                                <div><strong>2,635 pts</strong></div>
                            </div>
                            <div class="leaderboard-item">
                                <div><span class="rank">3</span> PlantLover</div>
                                <div><strong>2,401 pts</strong></div>
                            </div>
                            <div class="leaderboard-item" style="background: #e8f5e9;">
                                <div><span class="rank">23</span> <strong>T√∫</strong></div>
                                <div><strong>1,847 pts</strong></div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <h3>üë• Tu Equipo Verde</h3>
                        <p style="margin-bottom: 15px;"><strong>Equipo:</strong> "Guerreros del Clima"</p>
                        <div class="metric">
                            <span>Miembros activos:</span>
                            <span class="metric-value">12</span>
                        </div>
                        <div class="metric">
                            <span>CO‚ÇÇ ahorrado:</span>
                            <span class="metric-value">45.2 ton</span>
                        </div>
                        <div class="metric">
                            <span>Ranking de equipo:</span>
                            <span class="metric-value">#7</span>
                        </div>
                        <button class="btn-primary" style="margin-top: 15px;">Invitar Amigos</button>
                    </div>

                    <div class="card">
                        <h3>üì± Feed de la Comunidad</h3>
                        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 10px 0;">
                            <p><strong>@EcoMaster_2024</strong> complet√≥ el desaf√≠o "30 d√≠as sin pl√°stico" üéâ</p>
                            <small style="color: #666;">Hace 2 horas</small>
                        </div>
                        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 10px 0;">
                            <p><strong>@GreenWarrior</strong> plant√≥ 5 √°rboles este fin de semana üå≥</p>
                            <small style="color: #666;">Hace 5 horas</small>
                        </div>
                        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 10px 0;">
                            <p><strong>@PlantLover</strong> ahorr√≥ 200L de agua esta semana üíß</p>
                            <small style="color: #666;">Hace 1 d√≠a</small>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Challenges Section -->
            <div id="challenges" class="section">
                <h2 style="color: #2e7d32; margin-bottom: 25px; text-align: center;">Desaf√≠os Activos</h2>
                
                <div class="challenges-grid">
                    <div class="challenge-card">
                        <div class="challenge-icon">üö¥</div>
                        <h3>Semana Verde</h3>
                        <p>Usa transporte sostenible por 7 d√≠as consecutivos</p>
                        <div class="progress-bar" style="margin: 15px 0;">
                            <div class="progress-fill" style="width: 43%;"></div>
                        </div>
                        <p><strong>Progreso:</strong> 3/7 d√≠as</p>
                        <p style="color: #4caf50; font-weight: bold;">+150 puntos</p>
                    </div>

                    <div class="challenge-card">
                        <div class="challenge-icon">‚ôªÔ∏è</div>
                        <h3>Cero Residuos</h3>
                        <p>Reduce tus residuos a menos de 1kg esta semana</p>
                        <div class="progress-bar" style="margin: 15px 0;">
                            <div class="progress-fill" style="width: 78%;"></div>
                        </div>
                        <p><strong>Progreso:</strong> 2.2/3kg restantes</p>
                        <p style="color: #4caf50; font-weight: bold;">+200 puntos</p>
                    </div>

                    <div class="challenge-card">
                        <div class="challenge-icon">üíß</div>
                        <h3>Ahorrador de Agua</h3>
                        <p>Reduce tu consumo de agua en un 20%</p>
                        <div class="progress-bar" style="margin: 15px 0;">
                            <div class="progress-fill" style="width: 60%;"></div>
                        </div>
                        <p><strong>Progreso:</strong> 12% reducido</p>
                        <p style="color: #4caf50; font-weight: bold;">+100 puntos</p>
                    </div>

                    <div class="challenge-card">
                        <div class="challenge-icon">üå±</div>
                        <h3>Plantador Urbano</h3>
                        <p>Planta o cuida 3 plantas este mes</p>
                        <div class="progress-bar" style="margin: 15px 0;">
                            <div class="progress-fill" style="width: 33%;"></div>
                        </div>
                        <p><strong>Progreso:</strong> 1/3 plantas</p>
                        <p style="color: #4caf50; font-weight: bold;">+120 puntos</p>
                    </div>

                    <div class="challenge-card">
                        <div class="challenge-icon">‚ö°</div>
                        <h3>Energ√≠a Limpia</h3>
                        <p>Usa solo energ√≠as renovables por 15 d√≠as</p>
                        <div class="progress-bar" style="margin: 15px 0;">
                            <div class="progress-fill" style="width: 20%;"></div>
                        </div>
                        <p><strong>Progreso:</strong> 3/15 d√≠as</p>
                        <p style="color: #4caf50; font-weight: bold;">+250 puntos</p>
                    </div>

                    <div class="challenge-card">
                        <div class="challenge-icon">ü•ó</div>
                        <h3>Men√∫ Verde</h3>
                        <p>Come solo comida local y org√°nica por 5 d√≠as</p>
                        <div class="progress-bar" style="margin: 15px 0;">
                            <div class="progress-fill" style="width: 0%;"></div>
                        </div>
                        <p><strong>Progreso:</strong> 0/5 d√≠as</p>
                        <p style="color: #4caf50; font-weight: bold;">+180 puntos</p>
                    </div>
                </div>
            </div>

            <!-- Profile Section -->
            <div id="profile" class="section">
                <h2 style="color: #2e7d32; margin-bottom: 25px; text-align: center;">Tu Perfil EcoTracker</h2>
                
                <div class="dashboard-grid">
                    <div class="card">
                        <h3>üë§ Informaci√≥n Personal</h3>
                        <div class="input-group">
                            <label>Nombre de usuario:</label>
                            <input type="text" value="EcoUser2024" readonly>
                        </div>
                        <div class="input-group">
                            <label>Email:</label>
                            <input type="email" value="usuario@ecotracker.com" readonly>
                        </div>
                        <div class="input-group">
                            <label>Ciudad:</label>
                            <input type="text" value="Tegucigalpa, Honduras">
                        </div>
                        <button class="btn-primary">Actualizar Perfil</button>
                    </div>

                    <div class="card">
                        <h3>üìä Estad√≠sticas Generales</h3>
                        <div class="metric">
                            <span>D√≠as activos:</span>
                            <span class="metric-value">89</span>
                        </div>
                        <div class="metric">
                            <span>Total de puntos:</span>
                            <span class="metric-value">1,847</span>
                        </div>
                        <div class="metric">
                            <span>Desaf√≠os completados:</span>
                            <span class="metric-value">12</span>
                        </div>
                        <div class="metric">
                            <span>CO‚ÇÇ total ahorrado:</span>
                            <span class="metric-value">8.7 ton</span>
                        </div>
                    </div>

                    <div class="card">
                        <h3>üèÖ Colecci√≥n de Logros</h3>
                        <div class="badges-container">
                            <div class="badge">
                                <span class="badge-icon">ü•á</span>
                                Principiante
                            </div>
                            <div class="badge">
                                <span class="badge-icon">üö¥</span>
                                Eco-Ciclista
                            </div>
                            <div class="badge">
                                <span class="badge-icon">‚ôªÔ∏è</span>
                                Reciclador Pro
                            </div>
                            <div class="badge">
                                <span class="badge-icon">üíß</span>
                                Ahorrador H2O
                            </div>
                            <div class="badge">
                                <span class="badge-icon">üå±</span>
                                Jardinero Verde
                            </div>
                            <div class="badge">
                                <span class="badge-icon">‚ö°</span>
                                Energ√≠a Limpia
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üéØ Tus Metas Ambientales</h3>
                    <div class="metric">
                        <span>Reducir huella de carbono:</span>
                        <span class="metric-value">25%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 60%;"></div>
                    </div>
                    <p style="margin: 10px 0; color: #666;">Meta anual: 15% reducido hasta ahora</p>
                    
                    <div class="metric" style="margin-top: 20px;">
                        <span>Puntos objetivo este mes:</span>
                        <span class="metric-value">2,000</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 92%;"></div>
                    </div>
                    <p style="margin: 10px 0; color: #4caf50; font-weight: bold;">¬°Solo faltan 153 puntos!</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Variables globales para el estado de la aplicaci√≥n
        let userPoints = 1847;
        let carbonFootprint = 2.3;
        let waterConsumption = 3420;
        let recyclingRate = 85;
        let userRank = 23;

        // Funci√≥n para cambiar entre secciones
        function showSection(sectionId) {
            // Ocultar todas las secciones
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => {
                section.classList.remove('active');
            });

            // Mostrar la secci√≥n seleccionada
            document.getElementById(sectionId).classList.add('active');

            // Actualizar botones de navegaci√≥n
            const navBtns = document.querySelectorAll('.nav-btn');
            navBtns.forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // Animaci√≥n suave
            document.querySelector('.main-content').style.animation = 'fadeInUp 0.5s ease-out';
        }

        // Funci√≥n para agregar transporte
        function addTransport() {
            const transportType = document.getElementById('transport-type').value;
            const km = parseFloat(document.getElementById('km-input').value) || 0;
            
            if (km > 0) {
                // Calcular puntos basados en el tipo de transporte
                let points = 0;
                let carbonReduction = 0;

                switch(transportType) {
                    case 'Caminata':
                        points = km * 10;
                        carbonReduction = km * 0.2;
                        break;
                    case 'Bicicleta':
                        points = km * 8;
                        carbonReduction = km * 0.18;
                        break;
                    case 'Transporte p√∫blico':
                        points = km * 5;
                        carbonReduction = km * 0.1;
                        break;
                    case 'Auto propio':
                        points = km * 1;
                        carbonReduction = -km * 0.2;
                        break;
                    case 'Uber/Taxi':
                        points = km * 1;
                        carbonReduction = -km * 0.25;
                        break;
                }

                // Actualizar valores
                userPoints += points;
                carbonFootprint += carbonReduction;

                // Mostrar notificaci√≥n
                showNotification(`¬°Registrado! +${points} puntos por usar ${transportType}`, 'success');

                // Limpiar campos
                document.getElementById('km-input').value = '';

                // Actualizar dashboard si est√° visible
                updateDashboard();
            } else {
                showNotification('Por favor ingresa una distancia v√°lida', 'error');
            }
        }

        // Funci√≥n para agregar consumo de energ√≠a
        function addEnergy() {
            const energy = parseFloat(document.getElementById('energy-input').value) || 0;
            
            if (energy > 0) {
                const points = Math.max(1, Math.floor(50 - energy * 2)); // Menos energ√≠a = m√°s puntos
                userPoints += points;
                
                showNotification(`¬°Registrado! +${points} puntos por gesti√≥n energ√©tica`, 'success');
                document.getElementById('energy-input').value = '';
                updateDashboard();
            } else {
                showNotification('Por favor ingresa un consumo v√°lido', 'error');
            }
        }

        // Funci√≥n para mostrar notificaciones
        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? 'linear-gradient(45deg, #4caf50, #66bb6a)' : 'linear-gradient(45deg, #f44336, #ef5350)'};
                color: white;
                padding: 15px 25px;
                border-radius: 12px;
                font-weight: bold;
                z-index: 1000;
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
                animation: slideInRight 0.5s ease-out;
                max-width: 300px;
            `;
            
            notification.textContent = message;
            document.body.appendChild(notification);

            // Remover notificaci√≥n despu√©s de 3 segundos
            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.5s ease-out';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 500);
            }, 3000);
        }

        // Funci√≥n para actualizar el dashboard
        function updateDashboard() {
            // Actualizar puntuaci√≥n
            const pointsElements = document.querySelectorAll('.metric-value');
            if (pointsElements[3]) {
                pointsElements[3].textContent = userPoints.toLocaleString();
            }
            
            // Actualizar huella de carbono
            if (pointsElements[0]) {
                pointsElements[0].textContent = carbonFootprint.toFixed(1) + ' ton CO‚ÇÇ';
            }

            // Simular actualizaci√≥n de ranking
            if (userPoints > 2000) {
                userRank = Math.max(1, userRank - 1);
                if (pointsElements[4]) {
                    pointsElements[4].textContent = '#' + userRank;
                }
            }
        }

        // Funci√≥n para generar recomendaciones IA din√°micas
        function generateAIRecommendations() {
            const recommendations = [
                "üí° <strong>Sugerencia del d√≠a:</strong> Considera usar la bicicleta para trayectos menores a 5km. Podr√≠as reducir tu huella de carbono en un 40%.",
                "üå± <strong>Tip ecol√≥gico:</strong> Cambia 3 bombillas por LED esta semana y ahorra 120 kWh al a√±o.",
                "‚ôªÔ∏è <strong>Meta semanal:</strong> Intenta compostar el 70% de tus residuos org√°nicos.",
                "üöó <strong>Transporte inteligente:</strong> Planifica tus salidas para combinar m√∫ltiples actividades en un solo viaje.",
                "üíß <strong>Ahorro de agua:</strong> Una ducha de 5 minutos menos al d√≠a ahorra 2,500L al mes.",
                "üè† <strong>Hogar eficiente:</strong> Desconectar aparatos en standby puede reducir tu consumo el√©ctrico en un 10%.",
                "üåø <strong>Alimentaci√≥n sostenible:</strong> Incluir un d√≠a vegetariano a la semana reduce 1.6 kg de CO‚ÇÇ.",
                "üì± <strong>Tecnolog√≠a verde:</strong> Usar modo avi√≥n por las noches extiende la vida √∫til de tu bater√≠a."
            ];

            const aiContainer = document.getElementById('ai-recommendations');
            if (aiContainer) {
                // Seleccionar 3 recomendaciones aleatorias
                const selectedRecs = recommendations.sort(() => 0.5 - Math.random()).slice(0, 3);
                aiContainer.innerHTML = selectedRecs.map(rec => `<p>${rec}</p>`).join('');
            }
        }

        // Funci√≥n para simular progreso en desaf√≠os
        function simulateChallengeProgress() {
            const progressBars = document.querySelectorAll('#challenges .progress-fill');
            progressBars.forEach((bar, index) => {
                const currentWidth = parseInt(bar.style.width) || 0;
                const increment = Math.random() * 5; // Incremento aleatorio del 0-5%
                const newWidth = Math.min(100, currentWidth + increment);
                bar.style.width = newWidth + '%';
                
                // Actualizar texto de progreso
                const challengeCard = bar.closest('.challenge-card');
                const progressText = challengeCard.querySelector('p:nth-last-child(2)');
                if (progressText && newWidth >= 100) {
                    progressText.innerHTML = '<strong style="color: #4caf50;">¬°COMPLETADO! üéâ</strong>';
                    userPoints += 150; // Bonus por completar desaf√≠o
                    updateDashboard();
                }
            });
        }

        // Animaciones CSS adicionales
        const additionalStyles = `
            @keyframes slideInRight {
                from {
                    transform: translateX(100%);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }

            @keyframes slideOutRight {
                from {
                    transform: translateX(0);
                    opacity: 1;
                }
                to {
                    transform: translateX(100%);
                    opacity: 0;
                }
            }

            .pulse {
                animation: pulse 2s infinite;
            }

            @keyframes pulse {
                0% {
                    transform: scale(1);
                }
                50% {
                    transform: scale(1.05);
                }
                100% {
                    transform: scale(1);
                }
            }

            .shake {
                animation: shake 0.5s;
            }

            @keyframes shake {
                0%, 100% { transform: translateX(0); }
                25% { transform: translateX(-5px); }
                75% { transform: translateX(5px); }
            }
        `;

        // Agregar estilos adicionales
        const styleSheet = document.createElement('style');
        styleSheet.textContent = additionalStyles;
        document.head.appendChild(styleSheet);

        // Inicializaci√≥n cuando se carga la p√°gina
        document.addEventListener('DOMContentLoaded', function() {
            // Generar recomendaciones iniciales
            generateAIRecommendations();
            
            // Actualizar recomendaciones cada 30 segundos
            setInterval(generateAIRecommendations, 30000);
            
            // Simular progreso en desaf√≠os cada 45 segundos
            setInterval(simulateChallengeProgress, 45000);
            
            // Agregar efectos hover a las tarjetas
            const cards = document.querySelectorAll('.card');
            cards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-5px) scale(1.02)';
                    this.style.transition = 'all 0.3s ease';
                });
                
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                });
            });

            // Agregar efectos a los badges
            const badges = document.querySelectorAll('.badge');
            badges.forEach(badge => {
                badge.addEventListener('click', function() {
                    this.classList.add('pulse');
                    setTimeout(() => {
                        this.classList.remove('pulse');
                    }, 2000);
                    
                    showNotification('¬°Badge desbloqueado! Sigue as√≠ üåü', 'success');
                });
            });

            // Simular actualizaciones del feed de comunidad
            setInterval(() => {
                const feedContainer = document.querySelector('#community .card:last-child');
                if (feedContainer && Math.random() > 0.7) { // 30% de probabilidad
                    const activities = [
                        { user: '@NewEcoUser', action: 'se uni√≥ a la comunidad', icon: 'üëã', time: 'Hace unos minutos' },
                        { user: '@TreeHugger', action: 'plant√≥ 2 √°rboles nuevos', icon: 'üå≥', time: 'Hace 15 minutos' },
                        { user: '@SolarPowered', action: 'cambi√≥ a energ√≠a solar', icon: '‚òÄÔ∏è', time: 'Hace 30 minutos' },
                        { user: '@BikeCommuter', action: 'complet√≥ 50km en bicicleta', icon: 'üö¥', time: 'Hace 1 hora' }
                    ];
                    
                    const randomActivity = activities[Math.floor(Math.random() * activities.length)];
                    const newPost = document.createElement('div');
                    newPost.style.cssText = 'background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 10px 0; animation: slideDown 0.5s ease-out;';
                    newPost.innerHTML = `
                        <p><strong>${randomActivity.user}</strong> ${randomActivity.action} ${randomActivity.icon}</p>
                        <small style="color: #666;">${randomActivity.time}</small>
                    `;
                    
                    const firstPost = feedContainer.querySelector('div');
                    feedContainer.insertBefore(newPost, firstPost);
                    
                    // Remover el √∫ltimo post para mantener solo 3
                    const posts = feedContainer.querySelectorAll('div');
                    if (posts.length > 3) {
                        feedContainer.removeChild(posts[posts.length - 1]);
                    }
                }
            }, 60000); // Cada minuto

            // Mensaje de bienvenida
            setTimeout(() => {
                showNotification('¬°Bienvenido a EcoTracker! üå± Comienza a registrar tus actividades', 'success');
            }, 1000);
        });

        // Funci√≥n para exportar datos (simulada)
        function exportData() {
            const data = {
                usuario: 'EcoUser2024',
                puntos_totales: userPoints,
                huella_carbono: carbonFootprint,
                consumo_agua: waterConsumption,
                tasa_reciclaje: recyclingRate,
                ranking: userRank,
                fecha_export: new Date().toISOString()
            };
            
            console.log('Datos exportados:', data);
            showNotification('Datos exportados exitosamente üìä', 'success');
        }
    </script>
</body>
</html>